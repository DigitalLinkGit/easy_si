{% extends 'base.html.twig' %}

{% block title %}Questionnaires
{% endblock %}

{% block body %}
	<div class="container my-4">

		<div class="section-title d-flex justify-content-between align-items-center mb-4">
			<h2 class="mb-0">Questionnaires :</h2>
			<a href="{{ path('app_quiz_new') }}" class="btn btn-outline-primary" title="Ajouter une quiz">
				<i class="bi bi-plus"></i>
				Ajouter un questionnaire
			</a>
		</div>

		<table class="table">
			<thead>
				<tr>
					<th>Id</th>
					<th>Nom</th>
					<th>Description</th>
					<th class="text-end"></th>
				</tr>
			</thead>
			<tbody>
				{% for quiz in quizzes %}
					<tr>
						<td>{{ quiz.id }}</td>
						<td>{{ quiz.name }}</td>
						<td>{{ quiz.description }}</td>
						<td class="text-end">
							<div class="d-flex justify-content-end gap-1">

								<a href="{{ path('app_quiz_show', {'id': quiz.id}) }}" class="btn btn-sm btn-outline-primary btn-icon" title="Aperçu">
									<i class="bi bi-eye"></i>
								</a>
								<a href="{{ path('app_quiz_edit', {'id': quiz.id}) }}" class="btn btn-sm btn-outline-primary btn-icon" title="Modifier">
									<i class="bi bi-pencil"></i>
								</a>
								{% if captureId is defined and captureId is not null %}
									<a href="{{ path('app_capture_add_element', { id: captureId, elementId: quiz.id }) }}" class="btn btn-sm btn-outline-primary btn-icon" title="Voir ce rôle">
										<i class="bi bi bi-chevron-right"></i>
									</a>
								{% endif %}
								{{ include('quiz/_delete_form.html.twig', { 'quiz': quiz }) }}
							</div>
						</td>
					</tr>
				{% else %}
					<tr>
						<td colspan="4" class="text-center text-soft">Aucun questionnaire pour le moment.</td>
					</tr>
				{% endfor %}
			</tbody>
		</table>
	</div>
{% endblock %}
